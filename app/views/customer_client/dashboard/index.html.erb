<h1>All Products</h1>
<div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6">
  <% @products.each do |product| %>
    <div class="product border p-4 rounded-lg shadow-lg">
      <% if product.image.attached? %>
        <%= image_tag url_for(product.image), class: 'w-full h-60 object-cover mb-4' %>
      <% else %>
        <%= image_tag 'default_image.jpg', class: 'w-full h-60 object-cover mb-4' %>
      <% end %>
      <h5><%= number_to_currency(product.price) %></h5>
      <span class="product-name"><%= product.name %></span>
      
      <%= form_with model: CartItem.new, url: customer_client_cart_items_path , local: true do |form| %>
        <%= form.hidden_field :product_id, value: product.id %>
        <%= form.number_field :quantity, value: 1, min: 1, class: "mb-4 w-full border rounded p-2" %>
        <%= form.submit "Add to Cart", class: "w-full bg-blue-500 text-white font-bold py-2 px-4 rounded hover:bg-blue-700" %>
      <% end %>
    </div>
  <% end %>
</div>
